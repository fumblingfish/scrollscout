{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 3cf6d6b49dce1611e177","webpack:///./src/index.js","webpack:///./src/observer.js","webpack:///./src/common.js","webpack:///./src/scout.js","webpack:///./src/pin.js","webpack:///./src/pinbase.js","webpack:///./src/constants.js","webpack:///./src/createState.js","webpack:///./src/predicates.js","webpack:///./src/inputEnvDom.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;ACtCA;;;;AACA;;;;AACA;;;;;;AAEA,KAAI,kBAAkB,SAAS,SAA/B;;AAEA,KAAI,OAAO,MAAP,KAAkB,WAAtB,EAAkC;AAC/B;AACF;;AAED,KAAM,SAAS,SAAT,MAAS,CAAS,KAAT,EAAgB,OAAhB,EAAyB,cAAzB,EAAwC;AACpD,QAAM,WAAW,iBAAiB,cAAjB,GAAkC,eAAnD;AACA,WAAO,qBAAM,yBAAN,EAAkB,OAAlB,EAA2B,SAAS,KAAT,CAA3B,CAAP;AACF,EAHD;;AAKA,QAAO,OAAP,GAAiB,EAAE,cAAF,EAAjB,C;;;;;;;;;;;;ACfA,UAAS,QAAT,GAAoB;AACjB,QAAI,YAAY,EAAhB;AAAA,QAAoB,MAAM,CAA1B;;AAEA,QAAM,sBAAsB,SAAtB,mBAAsB,CAAC,GAAD,EAAS;AAClC,mBAAY,UAAU,MAAV,CAAiB;AAAA,iBAAY,SAAS,EAAT,KAAgB,IAAI,EAAhC;AAAA,QAAjB,CAAZ;AACA,cAAO,GAAP;AACF,KAHD;;AAKA,WAAO;AAEJ,kBAFI,uBAEQ,IAFR,EAEc,QAFd,EAEwB;AACzB,iBAAO,CAAP;AACA,cAAI,QAAQ,EAAC,IAAI,GAAL,EAAU,UAAV,EAAgB,kBAAhB,EAAZ;AACA,oBAAU,IAAV,CAAe,KAAf;AACA,iBAAO;AAAA,oBAAM,oBAAoB,KAApB,CAAN;AAAA,WAAP;AACF,QAPG;AASJ,qBATI,0BASW,gBATX,EAS6B;AAC9B,iBAAO,kBAAP;AACF,QAXG;AAaJ,yBAbI,gCAaiB;AAClB,sBAAY,EAAZ;AACF,QAfG;AAiBJ,mBAjBI,0BAiBW;AACZ,iBAAO,SAAP;AACF,QAnBG;AAqBJ,sBArBI,2BAqBY,IArBZ,EAqBkB,GArBlB,EAqBuB;AACxB,oBAAU,OAAV,CAAkB,UAAC,QAAD,EAAc;AAC7B,iBAAI,SAAS,IAAT,KAAkB,IAAtB,EAA4B;AACzB,yBAAS,QAAT,CAAkB,GAAlB;AACF;AACH,WAJD;AAKF,QA3BG;AA6BJ,4BA7BI,mCA6BoB;AACrB,cAAM,QAAQ,UAAU,GAAV,CAAc,UAAC,CAAD,EAAO;AAChC,oBAAO,EAAE,IAAT;AACF,WAFa,CAAd;AAGA,iBAAO,MAAM,MAAN,CAAa,UAAC,GAAD,EAAM,IAAN,EAAe;AAChC,iBAAI,IAAI,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAA3B,EAA8B,OAAO,GAAP;AAC9B,iBAAI,IAAJ,CAAS,IAAT;AACA,oBAAO,GAAP;AACF,WAJM,EAIJ,EAJI,CAAP;AAKF;AAtCG,KAAP;AAyCF;;mBAEc,Q;;;;;;;;;;;;ACnDR,KAAM,kDAAqB,SAArB,kBAAqB,CAAC,GAAD,EAAM,GAAN,EAAc;AAC7C,WAAO,IAAI,MAAJ,CAAW,UAAC,GAAD,EAAM,GAAN,EAAc;AAC7B,WAAG,CAAC,IAAI,GAAJ,CAAJ,EAAc,OAAO,GAAP;AACd,cAAO,GAAG,MAAH,CAAU,GAAV,EAAe,CAAC,IAAI,GAAJ,CAAD,CAAf,CAAP;AACF,KAHM,EAGJ,EAHI,CAAP;AAIF,EALM;;AAOA,KAAM,0BAAS,SAAT,MAAS,CAAS,IAAT,EAAc;AACjC,WAAO,UAAS,KAAT,EAAgB,KAAhB,EAAsB;AAC1B,cAAQ,KAAK,OAAL,CAAa,KAAb,MAAwB,KAAhC;AACF,KAFD;AAGF,EAJM;;AAMA,KAAM,8BAAW,SAAX,QAAW,CAAC,GAAD;AAAA,WAAS,OAAO,SAAP,CAAiB,QAAjB,CAA0B,IAA1B,CAA+B,GAA/B,KAAuC,iBAAhD;AAAA,EAAjB;AACA,KAAM,8BAAW,SAAX,QAAW,CAAC,GAAD;AAAA,WAAS,OAAO,SAAP,CAAiB,QAAjB,CAA0B,IAA1B,CAA+B,GAA/B,KAAuC,iBAAhD;AAAA,EAAjB,C;;;;;;;;;;;;;mBCmBiB,K;;AAjCxB;;;;AACA;;;;AACA;;AACA;;AACA;;;;AAGA,KAAM,iBAAiB;AACpB,sBAAkB;AADE,EAAvB;;AAIO,KAAM,oCAAc,SAAd,WAAc,CAAU,EAAV,EAAc,EAAd,EAAkB,CAAlB,EAAqB,CAArB,EAAwB;AAChD,WAAQ,KAAK,KAAK,CAAX,GAAgB,CAAvB;AACF,EAFM;;AAIA,KAAM,4CAAkB,SAAlB,eAAkB,CAAU,SAAV,EAAqB,UAArB,EAAiC,GAAjC,EAAsC;AAClE,WAAO,CACJ,YAAY,UAAU,CAAV,CAAZ,EAA0B,UAAU,CAAV,CAA1B,EAAwC,IAAI,aAA5C,EAA2D,IAAI,WAA/D,CADI,EAEJ,YAAY,WAAW,CAAX,CAAZ,EAA2B,WAAW,CAAX,CAA3B,EAA0C,IAAI,cAA9C,EAA8D,IAAI,YAAlE,CAFI,CAAP;AAIF,EALM;;AAOA,KAAM,8BAAW,SAAX,QAAW,CAAU,IAAV,EAAgB;AACrC,WAAO,UAAU,SAAV,EAAqB,IAArB,EAA2B;AAC/B,cAAO,UAAU,IAAV,CAAe,UAAC,QAAD,EAAc;AACjC,iBAAS,KAAK,SAAS,IAAd,EAAoB,KAApB,KAA8B,IAAvC;AACF,QAFM,CAAP;AAGF,KAJD;AAKF,EANM;;AAQP,KAAM,YAAY,2BAAlB;AACA,KAAM,YAAY,2BAAlB;;AAEe,UAAS,KAAT,CAAe,GAAf,EAAoB,GAApB,EAAyB,MAAzB,EAAiC;;AAE7C,QAAI,WAAW,GAAf;AAAA,QACG,UAAU,OAAO,MAAP,CAAc,cAAd,EAA8B,GAA9B,CADb;AAAA,QAEG,WAAW,MAFd;AAAA,QAGG,OAAO,EAHV;AAAA,QAIG,iBAAiB,EAJpB;AAAA,QAKG,SALH;AAAA,QAMG,QAAQ,KANX;AAAA,QAOG,QAAQ,KAPX;AAAA,QAQG,4BAA4B,IAR/B;AAAA,QASG,cAAc,KATjB;;AAYA,QAAM,aAAa,SAAb,UAAa,GAAY;AAC5B,mCAA4B,IAA5B;AACF,KAFD;;AAIA,QAAM,cAAc,SAAd,WAAc,CAAU,OAAV,EAAmB,EAAnB,EAAuB;AACxC,mCAA4B,IAA5B;AACA,cAAO,SAAS,WAAT,CAAqB,OAArB,EAA8B,EAA9B,CAAP;AACF,KAHD;;AAKA,QAAM,iBAAiB,SAAjB,cAAiB,CAAU,EAAV,EAAc;AAClC,cAAO,SAAS,cAAT,CAAwB,EAAxB,CAAP;AACF,KAFD;;AAIA,QAAM,qBAAqB,SAArB,kBAAqB,CAAU,EAAV,EAAc;AACtC,cAAO,SAAS,kBAAT,CAA4B,EAA5B,CAAP;AACF,KAFD;;AAIA,QAAM,eAAe,SAAf,YAAe,GAAY;AAC9B,cAAO,SAAS,YAAT,EAAP;AACF,KAFD;;AAIA,QAAM,kBAAkB,SAAlB,eAAkB,CAAU,OAAV,EAAmB,GAAnB,EAAwB;AAC7C,cAAO,SAAS,eAAT,CAAyB,OAAzB,EAAkC,GAAlC,CAAP;AACF,KAFD;;AAIA,QAAM,SAAS,SAAT,MAAS,CAAU,OAAV,EAAmB;AAC/B;AACA,WAAM,MAAM,kBAAQ,OAAR,EAAiB,EAAC,wBAAD,EAAc,sBAAd,EAAjB,CAAZ;AACA,YAAK,OAAL,IAAgB,GAAhB;AACA,cAAO,GAAP;AACF,KALD;;AAOA,QAAM,aAAa,SAAb,UAAa,GAAY;AAC5B,mBAAY,qCAAmB,QAAnB,EAA6B,KAA7B,EAAoC,KAApC,CAAZ;AACA,qBAAc,IAAd;AACF,KAHD;;AAKA,QAAM,eAAe,SAAf,YAAe,GAAY;AAC9B,WAAM,YAAY,SAAS,YAAT,EAAlB;AACA,WAAM,QAAQ,UAAU,GAAV,CAAc,UAAC,CAAD;AAAA,iBAAO,EAAE,IAAT;AAAA,QAAd,CAAd;AACA,WAAM,oBAAoB,MAAM,MAAN,CAAa,oBAAO,KAAP,CAAb,CAA1B;;AAEA;AACA,wBAAiB,gCAAmB,IAAnB,EAAyB,iBAAzB,CAAjB;AACA,eAAQ,UAAU,SAAV,EAAqB,IAArB,CAAR;AACA,eAAQ,UAAU,SAAV,EAAqB,IAArB,CAAR;AACA,mCAA4B,KAA5B;AACF,KAVD;;AAYA,QAAM,oBAAoB,SAApB,iBAAoB,CAAU,IAAV,EAAgB,SAAhB,EAA2B,UAA3B,EAAuC;AAC9D,cAAO,6BACJ,CAAC,CAAC,UAAU,EAAX,EAAe,UAAU,EAAzB,CAAD,EAA+B,CAAC,WAAW,EAAZ,EAAgB,WAAW,EAA3B,CAA/B,CADI,GAEJ,CAAC,CAAC,UAAU,EAAX,EAAe,UAAU,EAAzB,CAAD,EAA+B,CAAC,WAAW,EAAZ,EAAgB,WAAW,EAA3B,CAA/B,CAFH;AAGF,KAJD;;AAMA,QAAM,SAAS,SAAT,MAAS,CAAU,EAAV,EAAc;AAC1B,WAAI,yBAAJ,EAA+B;AAC5B;AACF;AACD,WAAI,CAAC,WAAL,EAAkB;AACf;AACF;AACD,WAAM,YAAY,2BAAY,QAAZ,EAAsB,KAAtB,EAA6B,KAA7B,CAAlB;AACA,sBAAe,OAAf,CAAuB,UAAC,GAAD,EAAS;AAC7B,cAAM,YAAY,gCAAoB,IAAI,UAAxB,CAAlB;AACA,cAAM,gBAAgB,kBAAkB,IAAI,KAAtB,EAA6B,UAAU,IAAvC,EAA6C,UAAU,KAAvD,CAAtB;AACA,cAAM,gBAAgB,kBAAkB,IAAI,KAAtB,EAA6B,UAAU,IAAvC,EAA6C,UAAU,KAAvD,CAAtB;AACA,cAAM,KAAK,gBAAgB,cAAc,CAAd,CAAhB,EAAkC,cAAc,CAAd,CAAlC,EAAoD,GAApD,CAAX;AACA,cAAM,KAAK,gBAAgB,cAAc,CAAd,CAAhB,EAAkC,cAAc,CAAd,CAAlC,EAAoD,GAApD,CAAX;AACA,cAAM,SAAS,UAAU,GAAG,CAAH,CAAV,EAAiB,GAAG,CAAH,CAAjB,EAAwB,GAAG,CAAH,CAAxB,EAA+B,GAAG,CAAH,CAA/B,CAAf;AACA,cAAI,MAAJ,EAAY,gBAAgB,IAAI,KAApB,EAA2B,EAA3B;AACd,QARD;AASA,mBAAY,SAAZ;AACF,KAlBD;;AAoBA,QAAI,QAAQ,gBAAZ,EAA8B;AAC3B,WAAI,OAAO,MAAP,KAAkB,WAAlB,IAAiC,OAAO,qBAA5C,EAAkE;AAC/D,iBAAO,qBAAP,CAA6B,MAA7B;AACF;AACH;;AAED,WAAO;AACJ,qBADI;AAEJ,+BAFI;AAGJ,qCAHI;AAIJ,6CAJI;AAKJ,iCALI;AAMJ,uCANI;AAOJ;AAPI,KAAP;AASF,E;;;;;;;;;;;;mBCrIuB,G;;AAJxB;;;;AACA;;;;AAGe,UAAS,GAAT,CAAa,IAAb,EAAmB,QAAnB,EAA4B;AAAA;;AACxC,SAAK,KAAL,GAAa,IAAb;AACA,SAAK,UAAL;AACA,SAAK,KAAL;AACA,SAAK,SAAL,GAAiB,UAAC,EAAD;AAAA,cAAQ,SAAS,WAAT,CAAqB,MAAK,KAA1B,EAAiC,EAAjC,CAAR;AAAA,KAAjB;AACA,SAAK,UAAL,GAAkB,SAAS,UAA3B;AACA,WAAO,IAAP;AACF;;AAED,KAAI,SAAJ,GAAgB,uBAAhB;;AAEA,KAAI,SAAJ,CAAc,OAAd,GAAwB,YAAU;AAC/B,SAAK,UAAL;AACA,WAAO,IAAP;AACF,EAHD;;AAKA,KAAI,SAAJ,CAAc,MAAd,GAAuB,YAAU;AAC9B,SAAK,UAAL;AACA,WAAO,IAAP;AACF,EAHD;;AAKA,KAAI,SAAJ,CAAc,IAAd,GAAqB,UAAS,IAAT,EAAc;AAChC,SAAK,KAAL,GAAe,0BAAF,wCAAb;AACA,SAAK,UAAL;AACA,WAAO,IAAP;AACF,EAJD,C;;;;;;;;;;;;mBClBwB,O;;AAPxB;;AAEA,KAAI,cAAc,SAAd,WAAc,CAAS,MAAT,EAAgB;AAC/B,QAAI,UAAU,IAAd,EAAoB,OAAO,CAAP;AACpB,WAAO,sBAAS,MAAT,IAAmB,WAAW,OAAO,KAAP,CAAa,WAAb,CAAX,CAAnB,GAA2D,WAAW,MAAX,CAAlE;AACF,EAHD;;AAKe,UAAS,OAAT,GAAkB;AAC9B,SAAK,aAAL,GAAqB,GAArB;AACA,SAAK,cAAL,GAAsB,GAAtB;AACA,SAAK,WAAL,GAAmB,CAAnB;AACA,SAAK,YAAL,GAAoB,CAApB;AACF;AACD,SAAQ,SAAR,CAAkB,IAAlB,GAAyB,UAAS,KAAT,EAAgB,MAAhB,EAAuB;AAC7C,SAAK,aAAL,GAAqB,sBAAS,KAAT,IAAkB,KAAlB,GAA0B,KAAK,aAApD;AACA,SAAK,WAAL,GAAmB,YAAY,MAAZ,CAAnB;AACA,WAAO,IAAP;AACF,EAJD;AAKA,SAAQ,SAAR,CAAkB,KAAlB,GAA0B,UAAS,KAAT,EAAgB,MAAhB,EAAuB;AAC9C,SAAK,cAAL,GAAsB,sBAAS,KAAT,IAAkB,KAAlB,GAA0B,KAAK,cAArD;AACA,SAAK,YAAL,GAAoB,YAAY,MAAZ,CAApB;AACA,WAAO,IAAP;AACF,EAJD,C;;;;;;;;;;;;AClBO,KAAM,4BAAU,SAAhB;AACA,KAAM,0BAAS,QAAf;AACA,KAAM,0BAAS,GAAf;AACA,KAAM,0BAAS,GAAf,C;;;;;;;;;;;;;mBCHQ,UAAS,QAAT,EAAmB,KAAnB,EAA0B,KAA1B,EAAgC;AAC5C,QAAM,OAAO,EAAb;AAAA,QAAiB,QAAQ,EAAzB;AACA,QAAG,KAAH,EAAS;AACN,YAAK,EAAL,GAAU,SAAS,QAAT,EAAV;AACA,YAAK,EAAL,GAAU,SAAS,SAAT,EAAV;AACA,aAAM,EAAN,GAAW,SAAS,SAAT,EAAX;AACA,aAAM,EAAN,GAAW,SAAS,UAAT,EAAX;AACF;AACD,QAAG,KAAH,EAAS;AACN,YAAK,EAAL,GAAU,SAAS,OAAT,EAAV;AACA,YAAK,EAAL,GAAU,SAAS,UAAT,EAAV;AACA,aAAM,EAAN,GAAW,SAAS,QAAT,EAAX;AACA,aAAM,EAAN,GAAW,SAAS,WAAT,EAAX;AACF;AACD,WAAO,EAAC,UAAD,EAAO,YAAP,EAAP;AACF,E;;AAEM,KAAM,kDAAqB,SAArB,kBAAqB,CAAS,QAAT,EAAmB,KAAnB,EAA0B,KAA1B,EAAgC;AAC/D,QAAM,OAAO,EAAb;AAAA,QAAiB,QAAQ,EAAzB;AACA,QAAG,KAAH,EAAS;AACN,YAAK,EAAL,GAAU,CAAV;AACA,YAAK,EAAL,GAAU,CAAV;AACA,aAAM,EAAN,GAAW,SAAS,SAAT,EAAX;AACA,aAAM,EAAN,GAAW,SAAS,UAAT,EAAX;AACF;AACD,QAAG,KAAH,EAAS;AACN,YAAK,EAAL,GAAU,CAAV;AACA,YAAK,EAAL,GAAU,CAAV;AACA,aAAM,EAAN,GAAW,SAAS,QAAT,EAAX;AACA,aAAM,EAAN,GAAW,SAAS,WAAT,EAAX;AACF;AACD,WAAO,EAAC,UAAD,EAAO,YAAP,EAAP;AACF,EAfM,C;;;;;;;;;;;;;;;;ACjBP;;;;AACO,KAAM,4CAAkB,SAAlB,eAAkB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb;AAAA,WAAqB,KAAK,EAAN,IAAc,MAAM,EAAxC;AAAA,EAAxB;AACA,KAAM,0CAAiB,SAAjB,cAAiB,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb;AAAA,WAAqB,KAAK,EAAN,IAAc,MAAM,EAAxC;AAAA,EAAvB;;AAEA,KAAM,0IACC,eADD,4DAEA,cAFA,wBAAN,C;;;;;;;;;;;;;mBCJQ,UAAU,OAAV,EAAmB;;AAE/B,QAAI,OAAO,MAAP,KAAkB,WAAlB,IAAiC,EAAE,mBAAmB,WAArB,CAArC,EAAwE;AACrE,aAAM,IAAI,KAAJ,CAAU,uCAAV,CAAN;AACF;;AAED,WAAO;AACJ,gBAAS,mBAAY;AAClB,cAAI,MAAM,SAAS,eAAnB;AACA,iBAAO,CAAC,OAAO,WAAP,IAAsB,IAAI,SAA3B,KAAyC,IAAI,SAAJ,IAAiB,CAA1D,CAAP;AACF,QAJG;AAKJ,mBAAY,sBAAY;AACrB,iBAAO,OAAO,WAAd;AACF,QAPG;AAQJ,iBAAU,oBAAY;AACnB,cAAI,OAAO,QAAQ,qBAAR,EAAX;AACA,iBAAO,KAAK,GAAL,GAAW,SAAS,IAAT,CAAc,SAAhC;AACF,QAXG;AAYJ,oBAAa,uBAAY;AACtB,iBAAO,QAAQ,YAAf;AACF,QAdG;AAeJ,iBAAU,oBAAY;AACnB,cAAI,MAAM,SAAS,eAAnB;AACA,iBAAO,CAAC,OAAO,WAAP,IAAsB,IAAI,UAA3B,KAA0C,IAAI,UAAJ,IAAkB,CAA5D,CAAP;AACF,QAlBG;AAmBJ,kBAAW,qBAAY;AACpB,iBAAO,OAAO,UAAd;AACF,QArBG;AAsBJ,kBAAW,qBAAY;AACpB,cAAI,OAAO,QAAQ,qBAAR,EAAX;AACA,iBAAO,KAAK,IAAL,GAAY,SAAS,IAAT,CAAc,UAAjC;AACF,QAzBG;AA0BJ,mBAAY,sBAAY;AACrB,iBAAO,QAAQ,WAAf;AACF;AA5BG,KAAP;AA8BF,E","file":"scrollscout.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"scrollscout\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"scrollscout\"] = factory();\n\telse\n\t\troot[\"scrollscout\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 3cf6d6b49dce1611e177\n **/","import observer from './observer'\nimport scout from './scout'\nimport inputEnvDom from './inputEnvDom'\n\nvar defaultInputEnv = Function.prototype\n\nif (typeof window !== 'undefined'){\n   defaultInputEnv = inputEnvDom\n}\n\nconst create = function(scene, options, inputEnvPlugin){\n   const inputEnv = inputEnvPlugin ? inputEnvPlugin : defaultInputEnv\n   return scout(observer(), options, inputEnv(scene))\n}\n\nmodule.exports = { create }\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","function observer() {\n   var listeners = [], GUI = 0\n\n   const removeEventListener = (evt) => {\n      listeners = listeners.filter(listener => listener.id !== evt.id)\n      return evt\n   }\n\n   return {\n\n      addListener(type, callback) {\n         GUI += 1\n         var event = {id: GUI, type, callback}\n         listeners.push(event)\n         return () => removeEventListener(event)\n      },\n\n      removeListener(removeListenerFn) {\n         return removeListenerFn()\n      },\n\n      removeAllListeners() {\n         listeners = []\n      },\n\n      getListeners() {\n         return listeners\n      },\n\n      notifyListeners(type, evt) {\n         listeners.forEach((listener) => {\n            if (listener.type === type) {\n               listener.callback(evt)\n            }\n         })\n      },\n\n      uniqueTypesSubscribed() {\n         const types = listeners.map((e) => {\n            return e.type\n         })\n         return types.reduce((acc, next) => {\n            if (acc.indexOf(next) !== -1) return acc\n            acc.push(next)\n            return acc\n         }, [])\n      },\n\n   }\n}\n\nexport default observer\n\n\n/** WEBPACK FOOTER **\n ** ./src/observer.js\n **/","export const filterOverKeyValue = (obj, arr) => {\n   return arr.reduce((acc, key) => {\n      if(!obj[key]) return acc\n      return [].concat(acc, [obj[key]])\n   }, [])\n}\n\nexport const unique = function(list){\n   return function(value, index){\n      return (list.indexOf(value) === index)\n   }\n}\n\nexport const isNumber = (obj) => Object.prototype.toString.call(obj) == '[object Number]'\nexport const isString = (obj) => Object.prototype.toString.call(obj) == '[object String]'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/common.js\n **/","import Pin from './pin'\nimport createState, {createInitialState} from './createState'\nimport {unique, filterOverKeyValue} from './common'\nimport {AXIS_X, AXIS_Y} from './constants'\nimport {directionPredicates} from './predicates'\n\n\nconst defaultOptions = {\n   runInitialUpdate: true,\n}\n\nexport const targetPoint = function (a1, a2, p, o) {\n   return (a1 + a2 * p) + o\n}\n\nexport const targetPointPair = function (stateView, stateScene, pin) {\n   return [\n      targetPoint(stateView[0], stateView[1], pin._viewPosition, pin._viewOffset),\n      targetPoint(stateScene[0], stateScene[1], pin._scenePosition, pin._sceneOffset)\n   ]\n}\n\nexport const someAxis = function (axis) {\n   return function (listeners, pins) {\n      return listeners.some((listener) => {\n         return ( pins[listener.type]._axis === axis )\n      })\n   }\n}\n\nconst someAxisX = someAxis(AXIS_X)\nconst someAxisY = someAxis(AXIS_Y)\n\nexport default function scout(obs, opt, inpEnv) {\n\n   var observer = obs,\n      options = Object.assign(defaultOptions, opt),\n      inputEnv = inpEnv,\n      pins = {},\n      pinSubscribers = [],\n      prevState,\n      feedY = false,\n      feedX = false,\n      shouldRefreshBeforeUpdate = true,\n      initialized = false\n\n\n   const pinChanges = function () {\n      shouldRefreshBeforeUpdate = true\n   }\n\n   const addListener = function (pinName, fn) {\n      shouldRefreshBeforeUpdate = true\n      return observer.addListener(pinName, fn)\n   }\n\n   const removeListener = function (fn) {\n      return observer.removeListener(fn)\n   }\n\n   const removeAllListeners = function (fn) {\n      return observer.removeAllListeners(fn)\n   }\n\n   const getListeners = function () {\n      return observer.getListeners()\n   }\n\n   const notifyListeners = function (pinName, evt) {\n      return observer.notifyListeners(pinName, evt)\n   }\n\n   const addPin = function (pinName) {\n      //Todo: must be unique and must be string\n      const pin = new Pin(pinName, {addListener, pinChanges})\n      pins[pinName] = pin\n      return pin\n   }\n\n   const initialize = function () {\n      prevState = createInitialState(inputEnv, feedX, feedY)\n      initialized = true\n   }\n\n   const refreshTerms = function () {\n      const listeners = observer.getListeners()\n      const types = listeners.map((l) => l.type)\n      const uniqueSubscribers = types.filter(unique(types))\n\n      //refresh\n      pinSubscribers = filterOverKeyValue(pins, uniqueSubscribers)\n      feedX = someAxisX(listeners, pins)\n      feedY = someAxisY(listeners, pins)\n      shouldRefreshBeforeUpdate = false\n   }\n\n   const anonymousAxisPair = function (axis, viewState, sceneState) {\n      return axis === AXIS_Y ?\n         [[viewState.y1, viewState.y2], [sceneState.y1, sceneState.y2]] :\n         [[viewState.x1, viewState.x2], [sceneState.x1, sceneState.x2]]\n   }\n\n   const update = function (fn) {\n      if (shouldRefreshBeforeUpdate) {\n         refreshTerms()\n      }\n      if (!initialized) {\n         initialize()\n      }\n      const nextState = createState(inputEnv, feedX, feedY)\n      pinSubscribers.forEach((pin) => {\n         const predicate = directionPredicates[pin._direction]\n         const prevStatePair = anonymousAxisPair(pin._axis, prevState.view, prevState.scene)\n         const nextStatePair = anonymousAxisPair(pin._axis, nextState.view, nextState.scene)\n         const pT = targetPointPair(prevStatePair[0], prevStatePair[1], pin)\n         const nT = targetPointPair(nextStatePair[0], nextStatePair[1], pin)\n         const passed = predicate(pT[0], pT[1], nT[0], nT[1])\n         if (passed) notifyListeners(pin._name, {})\n      })\n      prevState = nextState\n   }\n\n   if (options.runInitialUpdate) {\n      if (typeof window !== 'undefined' && window.requestAnimationFrame){\n         window.requestAnimationFrame(update)\n      }\n   }\n\n   return {\n      addPin,\n      addListener,\n      removeListener,\n      removeAllListeners,\n      getListeners,\n      notifyListeners,\n      update\n   }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/scout.js\n **/","import PinBase from './pinbase'\nimport { DESCEND, ASCEND, AXIS_X,  AXIS_Y } from './constants'\n\n\nexport default function Pin(name, scoutRef){\n   this._name = name\n   this._direction = DESCEND\n   this._axis = AXIS_Y\n   this.subscribe = (fn) => scoutRef.addListener(this._name, fn)\n   this.pinChanges = scoutRef.pinChanges\n   return this\n}\n\nPin.prototype = new PinBase()\n\nPin.prototype.descend = function(){\n   this._direction = DESCEND\n   return this\n}\n\nPin.prototype.ascend = function(){\n   this._direction = ASCEND\n   return this\n}\n\nPin.prototype.axis = function(axis){\n   this._axis = ( axis === AXIS_X ) ? AXIS_X : AXIS_Y\n   this.pinChanges()\n   return this\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/pin.js\n **/","import { isNumber, isString} from './common'\n\nvar parseOffset = function(offset){\n   if (offset == null) return 0\n   return isString(offset) ? parseFloat(offset.match(/[-+0-9]+/g)) : parseFloat(offset)\n}\n\nexport default function PinBase(){\n   this._viewPosition = 0.5\n   this._scenePosition = 0.5\n   this._viewOffset = 0\n   this._sceneOffset = 0\n}\nPinBase.prototype.view = function(value, offset){\n   this._viewPosition = isNumber(value) ? value : this._viewPosition\n   this._viewOffset = parseOffset(offset)\n   return this\n}\nPinBase.prototype.scene = function(value, offset){\n   this._scenePosition = isNumber(value) ? value : this._scenePosition\n   this._sceneOffset = parseOffset(offset)\n   return this\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/pinbase.js\n **/","export const DESCEND = 'descend'\nexport const ASCEND = 'ascend'\nexport const AXIS_X = 'x'\nexport const AXIS_Y = 'y'\n\n\n/** WEBPACK FOOTER **\n ** ./src/constants.js\n **/","export default function(inputEnv, calcX, calcY){\n   const view = {}, scene = {}\n   if(calcX){\n      view.x1 = inputEnv.viewLeft()\n      view.x2 = inputEnv.viewWidth()\n      scene.x1 = inputEnv.sceneLeft()\n      scene.x2 = inputEnv.sceneWidth()\n   }\n   if(calcY){\n      view.y1 = inputEnv.viewTop()\n      view.y2 = inputEnv.viewHeight()\n      scene.y1 = inputEnv.sceneTop()\n      scene.y2 = inputEnv.sceneHeight()\n   }\n   return {view, scene}\n}\n\nexport const createInitialState = function(inputEnv, calcX, calcY){\n   const view = {}, scene = {}\n   if(calcX){\n      view.x1 = 0\n      view.x2 = 0\n      scene.x1 = inputEnv.sceneLeft()\n      scene.x2 = inputEnv.sceneWidth()\n   }\n   if(calcY){\n      view.y1 = 0\n      view.y2 = 0\n      scene.y1 = inputEnv.sceneTop()\n      scene.y2 = inputEnv.sceneHeight()\n   }\n   return {view, scene}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/createState.js\n **/","import { DESCEND, ASCEND} from './constants'\nexport const nextDescendPrev = (pv, ps, nv, ns) => (pv < ps) && (nv >= ns)\nexport const nextAscendPrev = (pv, ps, nv, ns) => (pv > ps) && (nv <= ns)\n\nexport const directionPredicates = {\n   [DESCEND]: nextDescendPrev,\n   [ASCEND]: nextAscendPrev,\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/predicates.js\n **/","export default function (element) {\n\n   if (typeof window !== 'undefined' && !(element instanceof HTMLElement)) {\n      throw new Error('element must be a of type HTMLElement')\n   }\n\n   return {\n      viewTop: function () {\n         var doc = document.documentElement\n         return (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\n      },\n      viewHeight: function () {\n         return window.innerHeight\n      },\n      sceneTop: function () {\n         var rect = element.getBoundingClientRect()\n         return rect.top + document.body.scrollTop\n      },\n      sceneHeight: function () {\n         return element.offsetHeight\n      },\n      viewLeft: function () {\n         var doc = document.documentElement\n         return (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0)\n      },\n      viewWidth: function () {\n         return window.innerWidth\n      },\n      sceneLeft: function () {\n         var rect = element.getBoundingClientRect()\n         return rect.left + document.body.scrollLeft\n      },\n      sceneWidth: function () {\n         return element.offsetWidth\n      }\n   }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/inputEnvDom.js\n **/"],"sourceRoot":""}